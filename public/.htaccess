Options -MultiViews

RewriteEngine On

# Serve the exported Next.js 404 page with a proper 404 status.
# Use a relative path so it also works when deployed in a subdirectory.
ErrorDocument 404 404.html

# Serve existing files directly (assets, images, etc.)
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Map extensionless routes to exported /route/index.html without redirect.
RewriteCond %{REQUEST_FILENAME}/index.html -f
RewriteRule ^(.+)$ $1/index.html [L]
